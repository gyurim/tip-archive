# 운영체제 개요
## 1. 운영체제의 정의
- 운영체제: 컴퓨터 하드웨어 바로 윗단에 설치되는 소프트웨어
- 커널: 운영체제 중 항상 필요한 부분. 메모리에 상주하고 있다. 
> 이유: 소프트웨어가 실행되기 위해선 메모리에 해당 프로그램이 올라가야하는데 운영체제처럼 규모가 큰 프로그램이 메모리에 올라간다면 **메모리 공간의 낭비가 심할 것**이기 때문

## 2. 운영체제의 기능 
1. **컴퓨터 시스템 내의 자원(resource)을 효율적으로 관리**
	- 자원: CPU, 메모리, 하드디스크 + 소프트웨어 자원
	- **효율성**으로 인해 **형평성**이 깨지지 않도록 둘 다 고려해야함 
> 형평성
> 전체적인 성능을 향상시키기 위해 일부 프로그램, 사용자가 불이익이 발생하지 않도록 하는 것   

2. **컴퓨터 시스템을 편리하게 사용할 수 있는 환경 제공**
	- 하드웨어를 직접 다루는 복잡한 부분을 운영체제가 대행
	- 각 사용자 및 프로그램은 하드웨어 부분에 대한 자세한 내용을 알지 못해도 프로그램 실행 가능

3. 사용자와 운영체제 자신을 보호하는 역할 담당 

## 3. 운영체제의 분류 
### 동시 작업 지원 여부
- 단일 작업용 운영체제
	- 한 번에 하나의 프로그램만 실행 가능
	- DOS
- 다중 작업용 운영체제
	- 동시에 2개 이상의 프로그램을 처리할 수 있는 다중작업 지원
	- MS 윈도우, 유닉스 
	- 여러 프로그램이 CPU와 메모리를 공유함 
		- **시분할 시스템**: CPU의 작업 시간을 여러 프로그램들이 조금씩 나누어 쓰는 시스템
		- **다중 프로그래밍 시스템**: 메모리 공간을 분할해 여러 프로그램들이 동시에 메모리에 올려놓고 처리하는 시스템 
		- **대화형 시스템**: 여러 프로그램을 같이 실행시키지만 사용자 개개인의 관점에서는 각 프로그램에 대한 키보드 입력의 결과를 곧바로 화면에 보여주는 형태의 시스템

> 다중처리기 시스템 (multi-processor system) 
> : 하나의 컴퓨터 안에 CPU가 여러 개 설치된 경우  

### 다중 사용자에 대한 동시 지원 여부
- 단일 사용자용 운영체제
	- 한 번에 한 명의 사용자만이 사용하도록 허용하는 운영체제
	- 경우
		1. 한 번에 하나의 작업만 수행할 수 있는 경우 (DOS)
		2. 혼자 사용하지만 다중작업이 가능한 경우 (MS 윈도우)

- 다중 사용자용 운영체제
	- 여러 사용자가 동시에 접속해 사용할 수 있게 하는 운영체제
	- 이메일 서버, 웹서버

### 작업을 처리하는 방식
- 일괄처리 방식
	- 요청된 작업을 일정량씩 모아서 한꺼번에 처리하는 방식
	- 모든 작업이 완전히 종료된 후에 결과 얻을 수 있음
	- 단점
		- 사용자 입장에서는 응답시간이 길다.
	- 펀치 카드 처리 시스템

- 시분할 방식 
	- 여러 작업을 수행할 때 컴퓨터의 처리 능력을 일정한 시간 단위로 분할해 사용하는 방식 
	- 일괄처리 방식에 비해 짧아진 응답시간
	- 특징
		- 대화형 시스템: 사용자의 요청에 대한 결과를 바로 얻을 수 있음

- 실시간 운영체제 
	- 정해진 시간 안에 어떠한 일이 반드시 처리됨을 보장해야하는 시스템에서 사용됨
	- 시간 제약의 중요성에 따른 분류
		1. 경성 실시간 시스템 (hard realtime system)
			- 주어진 시간을 지키지 못할 경우, 매우 위험한 결과를 초래할 가능성 존재
			- 로켓, 원자로 제어 시스템
		2. 연성 실시간 시스템 (soft realtime system)
			- 데이터가 정해진 시간 단위로 전달되어야 올바른 기능을 수행할 수 있는 시스템
			- 멀티미디어 스트리밍 시스템 

## 4. 운영체제의 예
- MS 윈도우
	- 편리한 인터페이스 & 각종 기능

- 유닉스
	- 대형 컴퓨터 및 전문적인 목적의 컴퓨터에 사용되기 적합
	- 안정성 
	- 소프트웨어의 이식성이 높은 최초의 운영체제
		- 소프트웨어의 이식성: 해당 소프트웨어를 다른 기종의 기계로 옮기는 것이 얼마나 용이한가를 나타내는 지표 
		
## 5. 운영체제의 자원 관리 기능 
- CPU와 메모리는 전원이 나가도 기억해야 하는 부분을 입출력 장치 중 한 종류인 보조기억장치에 파일 형태로 저장

### CPU를 관리하는 방법 
- **CPU 스케줄링**
	- 매 시점 어떠한 프로세스에 CPU를 할당해 작업을 처리할 것인지 결정
	- 목표: CPU를 가장 효율적으로 사용하면서 특정 프로세스가 불이익을 당하지 않도록 하는 것
- CPU 스케줄링 기법 예시
	- 선입선출 (First Come First Served)
		- CPU를 사용하기 위해 도착한 프로세스들 중 먼저 온 것을 먼저 처리해주는 방식
		- 단점: 전체 시스템 입장에서 비효율적임. 장시간 CPU를 사용해야하는 프로세스가 먼저 도착한 경우, 나중에 도착한 프로세스들이 오래 대기해야함.

	- 라운드 로빈 (Round Robin)
		- CPU를 한 번 할당받아 사용할 수 있는 시간을 일정하게 고정된 시간으로 제한 
		- 정해진 시간이 지나면 CPU를 내어놓고 CPU 대기열의 맨 뒤로 가야함
		- 장점: 다수의 사용자가 동시에 접속할 때에도 각자 1초 이하의 응답시간을 보장받을 수 있음

	- 우선순위(Priority)
		- CPU 사용을 위해 대기 중인 프로세스들에 우선순위를 부여하고 우선순위가 높은 프로세스에 CPU를 먼저 할당 
		- 활용
			- 기다린 시간이 늘어날수록 우선순위를 점차 높여줘 지나치게 오래 기다리는 프로세스가 발생하지 않도록 함

### 메모리를 관리하는 방법
- 주소를 통해 관리
	- 운영체제는 전체 메모리 공간이 효율적으로 사용될 수 있도록 해야한다.
	- 운영체제는 각 프로세스가 자신의 메모리 영역에만 접근할 수 있도록 관리해야한다.

- 물리적 메모리를 관리하는 방식 
	- 고정분할 방식
		- 물리적 메모리를 몇 개의 분할로 미리 나누어 관리하고, 나뉜 분할에는 하나의 프로그램이 적재됨
		- 단점
			- 메모리에 동시에 적재되는 최대 프로그램의 수가 분할 개수로 한정되므로 **융통성이 없다.**
			- 분할 크기보다 큰 프로그램은 적재가 불가능하다
			- 내부 조각 발생
				- 내부조각: 분할의 크기보다 작은 프로그램이 적재되는 경우 해당 분할 내에 발생하는 남는 영역
		
	- 가변분할 방식
		- 매 시점 프로그램의 크기에 맞게 메모리를 분할해서 사용하는 방식 
		- 단점
			- 물리적 메모리의 크기보다 더 큰 프로그램의 실행이 불가능
			- 내부조각은 발생하지 않지만 외부조각 발생
				- 외부조각: 프로그램에 할당되지 않았지만 그 크기가 작아 프로그램을 올리지 못하는 메모리 영역

	- 가상메모리 기법
		- 모든 프로그램은 물리적 메모리와는 독립적으로 자신만의 가상메모리 주소를 갖고, 운영체제는 이 가상메모리의 주소를 물리적 메모리 주소로 매핑하는 기술을 이용해 주소 변환 후, 물리적 메모리에 올림
		- 현재 사용되고 있는 부분만 메모리에 올리고 나머지는 보조기억장치에 저장한 뒤 필요할 때 적재하는 방식
	
### 주변장치 및 입출력 장치의 관리 방법
- 인터럽트
	- 주변장치들이 CPU의 서비스가 필요한 경우에 신호를 발생시켜 서비스를 요청할 때, 발생시키는 신호
	- 인터럽트는 요청하는 장치와 발생 상황에 따라 다양한 종류가 있기 때문에 운영체제는 인터럽트의 종류마다 서로 다른 인터럽트 처리 루틴을 가지고 있음
		- **인터럽트 처리 루틴**: 인터럽트가 발생했을 때 해주어야 할 작업을 정의한 프로그램 코드 
- 과정
	1. CPU 스케줄링에 따라 CPU에게 주어진 작업을 수행 
	2. 인터럽트 발생
	3. 인터럽트 처리 직전에 수행 중인 작업의 상태 저장
	4. 인터럽트 처리 -> 처리 완료
	5. 저장해두었던 작업으로 돌아가 나머지 수행
- 예시
	- 사용자가 키보드의 글자를 입력하면 키보드는 CPU에 인터럽트를 발생시켜 입력이 들어왔음을 알림
	
> 컨트롤러: 주변장치들이 각 장치마다 그 장치에서 일어나는 업무를 관리하기 위해 가지고 있는 일종의 작은 CPU
> 역할: 해당 장치에 대한 업무를 처리하고 이를 메인 CPU에 인터럽트를 발생시켜 보고
